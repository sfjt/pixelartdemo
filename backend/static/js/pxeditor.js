(()=>{var e={669:(e,t,r)=>{e.exports=r(609)},448:(e,t,r)=>{"use strict";var n=r(867),i=r(26),o=r(372),s=r(327),a=r(97),c=r(109),u=r(985),l=r(61);e.exports=function(e){return new Promise((function(t,r){var p=e.data,f=e.headers;n.isFormData(p)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(h+":"+v)}var x=a(e.baseURL,e.url);if(d.open(e.method.toUpperCase(),s(x,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?c(d.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:e,request:d};i(t,r,o),d=null}},d.onabort=function(){d&&(r(l("Request aborted",e,"ECONNABORTED",d)),d=null)},d.onerror=function(){r(l("Network Error",e,null,d)),d=null},d.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var y=(e.withCredentials||u(x))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;y&&(f[e.xsrfHeaderName]=y)}if("setRequestHeader"in d&&n.forEach(f,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete f[t]:d.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(d.withCredentials=!!e.withCredentials),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),r(e),d=null)})),p||(p=null),d.send(p)}))}},609:(e,t,r)=>{"use strict";var n=r(867),i=r(849),o=r(321),s=r(185);function a(e){var t=new o(e),r=i(o.prototype.request,t);return n.extend(r,o.prototype,t),n.extend(r,t),r}var c=a(r(655));c.Axios=o,c.create=function(e){return a(s(c.defaults,e))},c.Cancel=r(263),c.CancelToken=r(972),c.isCancel=r(502),c.all=function(e){return Promise.all(e)},c.spread=r(713),c.isAxiosError=r(268),e.exports=c,e.exports.default=c},263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},972:(e,t,r)=>{"use strict";var n=r(263);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,r)=>{"use strict";var n=r(867),i=r(327),o=r(782),s=r(572),a=r(185);function c(e){this.defaults=e,this.interceptors={request:new o,response:new o}}c.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},c.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){c.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){c.prototype[e]=function(t,r,n){return this.request(a(n||{},{method:e,url:t,data:r}))}})),e.exports=c},782:(e,t,r)=>{"use strict";var n=r(867);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},97:(e,t,r)=>{"use strict";var n=r(793),i=r(303);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},61:(e,t,r)=>{"use strict";var n=r(481);e.exports=function(e,t,r,i,o){var s=new Error(e);return n(s,t,r,i,o)}},572:(e,t,r)=>{"use strict";var n=r(867),i=r(527),o=r(502),s=r(655);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},185:(e,t,r)=>{"use strict";var n=r(867);e.exports=function(e,t){t=t||{};var r={},i=["url","method","data"],o=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function u(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=c(void 0,e[i])):r[i]=c(e[i],t[i])}n.forEach(i,(function(e){n.isUndefined(t[e])||(r[e]=c(void 0,t[e]))})),n.forEach(o,u),n.forEach(s,(function(i){n.isUndefined(t[i])?n.isUndefined(e[i])||(r[i]=c(void 0,e[i])):r[i]=c(void 0,t[i])})),n.forEach(a,(function(n){n in t?r[n]=c(e[n],t[n]):n in e&&(r[n]=c(void 0,e[n]))}));var l=i.concat(o).concat(s).concat(a),p=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return n.forEach(p,u),r}},26:(e,t,r)=>{"use strict";var n=r(61);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},527:(e,t,r)=>{"use strict";var n=r(867);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},655:(e,t,r)=>{"use strict";var n=r(867),i=r(16),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,c={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(a=r(448)),a),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(o)})),e.exports=c},849:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},327:(e,t,r)=>{"use strict";var n=r(867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},372:(e,t,r)=>{"use strict";var n=r(867);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},985:(e,t,r)=>{"use strict";var n=r(867);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},16:(e,t,r)=>{"use strict";var n=r(867);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},109:(e,t,r)=>{"use strict";var n=r(867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,s={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},867:(e,t,r)=>{"use strict";var n=r(849),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:c,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function r(r,n){c(t[n])&&c(r)?t[n]=e(t[n],r):c(r)?t[n]=e({},r):o(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)l(arguments[n],r);return t},extend:function(e,t,r){return l(t,(function(t,i){e[i]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},216:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(645),i=r.n(n)()((function(e){return e[1]}));i.push([e.id,"#px-editor-canvas-root {\n  margin: 16px auto;\n}\n\n#px-editor-color {\n  margin: 8px;\n  width: 32px;\n  height: 32px;\n}\n\n#px-editor-popup-base {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0px;\n  left: 0px;\n}\n\n.px-editor-popup {\n  padding: 16px;\n  position: absolute;\n  background-color: #FFFFFF;\n  border: 1px solid #999999;\n  border-radius: 8px;\n}\n\n.px-editor-popup * {\n  z-index: auto;\n}\n\n.inactive {\n  visibility: hidden;\n}\n\n.editor-control-icon {\n  margin: 8px;\n  font-size: 32px;\n  cursor: pointer;\n}\n",""]);const o=i},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(n)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<e.length;a++){var c=[].concat(e[a]);n&&i[c[0]]||(r&&(c[2]?c[2]="".concat(r," and ").concat(c[2]):c[2]=r),t.push(c))}},t}},379:(e,t,r)=>{"use strict";var n,i=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),o=[];function s(e){for(var t=-1,r=0;r<o.length;r++)if(o[r].identifier===e){t=r;break}return t}function a(e,t){for(var r={},n=[],i=0;i<e.length;i++){var a=e[i],c=t.base?a[0]+t.base:a[0],u=r[c]||0,l="".concat(c," ").concat(u);r[c]=u+1;var p=s(l),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==p?(o[p].references++,o[p].updater(f)):o.push({identifier:l,updater:v(f,t),references:1}),n.push(l)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var o=r.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var u,l=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,r,n){var i=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=l(t,i);else{var o=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(o,s[t]):e.appendChild(o)}}function f(e,t,r){var n=r.css,i=r.media,o=r.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var d=null,h=0;function v(e,t){var r,n,i;if(t.singleton){var o=h++;r=d||(d=c(t)),n=p.bind(null,r,o,!1),i=p.bind(null,r,o,!0)}else r=c(t),n=f.bind(null,r,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var i=s(r[n]);o[i].references--}for(var c=a(e,t),u=0;u<r.length;u++){var l=s(r[u]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}r=c}}}}},t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e,t=r(669),n=r.n(t),i=10,o={BG:0,HUD:++i,EVENT_HOLDER:++i,POPUP_BASE:++i,POPUP:++i},s=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];for(var i=document.createElement(e),o=0;o<r.length;o++){var s=r[o];if(null!=s)if(s instanceof HTMLElement)i.appendChild(s);else{var a=document.createTextNode(s.toString());i.appendChild(a)}}if(null==t)return i;for(var c=0,u=Object.keys(t);c<u.length;c++){var l=u[c];i.setAttribute(l,t[l].toString())}return i},a=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];i in e.style&&(e.style[i]=t[i].toString())}},c=function(e){var t=document.getElementById(e);if(!t)throw new Error("Could not find element with id '"+e+"'");return t},u=function(){function e(e){var t=e.xPixels*e.pixelSize,r=e.yPixels*e.pixelSize;this.element=s("canvas",{width:t,height:r}),a(this.element,{position:"absolute",top:"0px",left:"0px",zIndex:e.zIndex}),this.context=this.getContext(),this.render(e.xPixels,e.pixelSize,e.colors)}return e.prototype.render=function(e,t,r){for(var n=0;n<r.length;n++){var i=n%e,o=Math.floor(n/e);r[n]&&this.paintPixel(i,o,t,r[n])}},e.prototype.getContext=function(){var e=this.element.getContext("2d");if(null===e)throw new Error("Failed to get canvas context.");return e},e.prototype.paintPixel=function(e,t,r,n){var i=e*r,o=t*r;this.context.fillStyle=n,this.context.fillRect(i,o,r,r)},e.prototype.remove=function(){this.element.remove()},e.createBackground=function(t){for(var r=t.xPixels*t.yPixels,n=new Array(r).fill(t.bgColors.primary),i=0;i<t.yPixels;i++)for(var s=0;s<t.xPixels;s++)(s+i)%2==1&&(n[t.xPixels*i+s]=t.bgColors.secondary);return new e({xPixels:t.xPixels,yPixels:t.yPixels,pixelSize:t.pixelSize,zIndex:o.BG,colors:n})},e}(),l=function(){function e(e){this.xPixels=e.xPixels,this.yPixels=e.yPixels,this.colorData=e.colorData.map((function(e){return e.map((function(e){return e.slice()}))}))}return e.prototype.equals=function(e){return this.xPixels===e.xPixels&&this.yPixels===e.yPixels&&JSON.stringify(this.colorData)===JSON.stringify(e.colorData)},e}(),p=function(){function e(t,r){e.validateXY(t,r),this.x=t,this.y=r}return e.prototype.equals=function(e){return this.x===e.x&&this.y===e.y},e.validateXY=function(e,t){if(!Number.isInteger(e)||!Number.isInteger(t))throw new Error("x and y must be integers.")},e.validatePixelsize=function(e){if(!(e>0))throw new Error("pixelSize must be greater than 0.")},e.coordinateToPosition=function(t,r,n){return e.validatePixelsize(n),new e(Math.trunc(t/n),Math.trunc(r/n))},e.interpolate=function(t,r){if(t.equals(r))return[t];var n=t.x,i=t.y,o=r.x,s=r.y,a=Math.abs(s-i)>Math.abs(o-n);if(a){var c=n;n=i,i=c;var u=o;o=s,s=u}for(var l=Math.abs(o-n),p=Math.abs(s-i),f=n<o?1:-1,d=i<s?1:-1,h=i,v=l/2,x=[],y=n;;y+=f){if(1===f){if(y>o)break}else if(y<o)break;a?x.push(new e(h,y)):x.push(new e(y,h)),(v-=p)<0&&(h+=d,v+=l)}return x},e}(),f=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n},d=function(){function e(e){e?(this.xPixels=e.xPixels,this.yPixels=e.yPixels,this.pixelSize=e.pixelSize,this.colorData=e.colorData.map((function(e){return e.map((function(e){return e.slice()}))})),this.selected={groupId:e.selected.groupId,layerIds:e.selected.layerIds.slice()}):(this.xPixels=15,this.yPixels=15,this.pixelSize=20,this.colorData=[[new Array(225).fill("")]],this.selected={groupId:0,layerIds:[0]})}return e.prototype.getSelectedDataRef=function(){var e=this.selected,t=e.groupId,r=e.layerIds[this.selected.groupId];return this.colorData[t][r]},e.prototype.getSelectedIds=function(){var e=this.selected,t=e.groupId;return{gid:t,lid:e.layerIds[t]}},e.prototype.setColor=function(e,t){var r=this,n=this.getSelectedDataRef();e.forEach((function(e){n[e.y*r.xPixels+e.x]=t}))},e.prototype.getColor=function(e){return this.getSelectedDataRef()[e.y*this.xPixels+e.x]},e.prototype.findColorArea=function(e){var t=this,r=this.getColor(e);if(null===r)return[];var n=[],i=[],o=function(e){var s=e.x,a=e.y,c=s+"-"+a;s<0||a<0||s>=t.xPixels||a>=t.yPixels||n.includes(c)||(n.push(c),t.getColor(e)===r&&(i.push(e),o(new p(s,a+1)),o(new p(s,a-1)),o(new p(s+1,a)),o(new p(s-1,a))))};return o(e),i},e.prototype.resizeColorData=function(t,r){var n=this.xPixels,i=this.yPixels,o=t-n,s=r-i,a=this.colorData.map((function(e){return e.map((function(e){var t=e.slice();if(s>0){var a=n*s;t.splice.apply(t,f([e.length,0],new Array(a).fill("")))}else if(s<0){var c=Math.abs(n*s);t.splice(n*i-c,c)}if(o>0)for(var u=r;u>0;u--){var l=n*u;t.splice.apply(t,f([l,0],new Array(o).fill("")))}else if(o<0)for(u=r;u>0;u--){var p=n*u-Math.abs(o);t.splice(p,Math.abs(o))}return t}))}));return new e({xPixels:t,yPixels:r,pixelSize:this.pixelSize,colorData:a,selected:this.selected})},e.prototype.createHistory=function(){return new l({xPixels:this.xPixels,yPixels:this.yPixels,colorData:this.colorData})},e.prototype.hasSameContent=function(e){return!!e&&this.xPixels===e.xPixels&&this.yPixels===e.yPixels&&JSON.stringify(this.colorData)===JSON.stringify(e.colorData)},e.prototype.dump=function(){return JSON.stringify({xPixels:this.xPixels,yPixels:this.yPixels,pixelSize:this.pixelSize,colorData:this.colorData,selected:this.selected})},e}();!function(e){e[e.paint=0]="paint",e[e.clear=1]="clear",e[e.fill=2]="fill",e[e.pick=3]="pick"}(e||(e={}));var h=function(){function t(){this.state=new d,this.history={prev:[],forward:[]},this.editMode=e.paint,this.paintColor="#000000",this.bgColors={primary:"#FFFFFF",secondary:"#eeeeee"},this.root=s("div",{id:"px-editor-canvas-root"}),a(this.root,{position:"relative"}),this.background=this.createBackground(),this.canvasGroups=[],this.hud=this.createCanvas(o.HUD),this.root.appendChild(this.hud.element),this.eventHolder=s("div",{id:"px-editor-event-holder"}),a(this.eventHolder,{position:"absolute",top:"0px",left:"0px",zIndex:o.EVENT_HOLDER}),this.root.appendChild(this.eventHolder),this.eventPositions={current:null,prev:null}}return t.prototype.updateCanvas=function(){var e=this.state,t=e.xPixels,r=e.yPixels,n=e.pixelSize,i=this.state.getSelectedDataRef(),o=this.state.getSelectedIds(),s=o.gid,a=o.lid,c=new u({xPixels:t,yPixels:r,pixelSize:n,zIndex:a+1,colors:i});this.canvasGroups[s].layers[a].remove(),this.root.appendChild(c.element),this.canvasGroups[s].layers[a]=c},t.prototype.updateEventPositions=function(e,t){var r=p.coordinateToPosition(e,t,this.state.pixelSize),n=this.eventPositions.current;if(n){if(n.equals(r))return!1;this.eventPositions.prev=n}return this.eventPositions.current=r,!0},t.prototype.clearEventPositions=function(){this.eventPositions.current=null,this.eventPositions.prev=null},t.prototype.createBackground=function(){return u.createBackground({xPixels:this.state.xPixels,yPixels:this.state.yPixels,pixelSize:this.state.pixelSize,bgColors:this.bgColors})},t.prototype.createCanvasGroup=function(e){void 0===e&&(e=!0);var t=s("div",{});a(t,{position:"absolute",top:"0px",left:"0px",width:this.width()+"px",height:this.height()+"px"});var r=[];return e&&r.push(this.createCanvas(1)),{container:t,layers:r}},t.prototype.createCanvas=function(e){var t=this.state,r=t.xPixels,n=t.yPixels,i=t.pixelSize,o=new Array(r*n).fill("");return new u({xPixels:r,yPixels:n,pixelSize:i,zIndex:e,colors:o})},t.prototype.width=function(){return this.state.xPixels*this.state.pixelSize},t.prototype.height=function(){return this.state.yPixels*this.state.pixelSize},t.prototype.renderAll=function(){var e={width:this.width()+"px",height:this.height()+"px"};a(this.root,e),a(this.eventHolder,e),a(this.hud.element,e);var t=this.createBackground();this.background.remove(),this.root.appendChild(t.element),this.background=t;var r=this.state,n=r.xPixels,i=r.yPixels,o=r.pixelSize,s=r.colorData;this.canvasGroups.forEach((function(e){e.container.remove(),e.layers.forEach((function(e){return e.remove()}))})),this.canvasGroups=[];for(var c=0;c<s.length;c++)for(var l=this.createCanvasGroup(!1),p=0;p<s[c].length;p++){var f=p+1,d=s[c][p],h=new u({xPixels:n,yPixels:i,pixelSize:o,zIndex:f,colors:d});this.root.appendChild(l.container),l.container.appendChild(h.element),l.layers.push(h),this.canvasGroups.push(l)}},t.prototype.paint=function(t,r){if(this.updateEventPositions(t,r)){var n=this.eventPositions,i=n.current,o=n.prev;if(i){var s;s=o?i.equals(o)?[i]:p.interpolate(o,i):[i];var a=this.editMode===e.clear?"":this.paintColor;this.state.setColor(s,a),this.updateCanvas()}}},t.prototype.fill=function(e,t){this.updateEventPositions(e,t);var r=this.eventPositions.current;if(r){var n=this.state.findColorArea(r);this.state.setColor(n,this.paintColor),this.updateCanvas()}},t.prototype.getXYPixels=function(){return{xPixels:this.state.xPixels,yPixels:this.state.yPixels}},t.prototype.resize=function(e,t){this.state=this.state.resizeColorData(e,t)},t.prototype.createHistory=function(){var e=this.state.createHistory();this.history.prev[0]&&this.history.prev[0].equals(e)||(this.history.forward=[],this.history.prev.unshift(e))},t.prototype.undoCanvas=function(){var e=this.state.createHistory();for(this.history.forward[0]&&this.history.forward[0].equals(e)||this.history.forward.unshift(e);this.state.hasSameContent(this.history.prev[0]);)this.history.prev.shift();var t=this.history.prev.shift();if(t){var r=new d({xPixels:t.xPixels,yPixels:t.yPixels,pixelSize:this.state.pixelSize,colorData:t.colorData,selected:this.state.selected});this.state=r,this.renderAll()}},t.prototype.redoCanvas=function(){var e=this.state.createHistory();for(this.history.prev[0]&&this.history.prev[0].equals(e)||this.history.prev.unshift(e);this.state.hasSameContent(this.history.forward[0]);)this.history.forward.shift();var t=this.history.forward.shift();if(t){var r=new d({xPixels:t.xPixels,yPixels:t.yPixels,pixelSize:this.state.pixelSize,colorData:t.colorData,selected:this.state.selected});this.state=r,this.renderAll()}},t.prototype.dump=function(){return this.state.dump()},t.prototype.load=function(e){this.state=new d(e)},t.prototype.createDownloadImageURL=function(e){var t=this.state,r=t.xPixels,n=t.yPixels,i=t.colorData[0][0];return new u({xPixels:r,yPixels:n,pixelSize:e,colors:i,zIndex:0}).element.toDataURL("image/png")},t}(),v=function(e){var t=location.protocol+"//"+location.host;return e.startsWith("/")||(e="/"+e),t+e},x=r(379),y=r.n(x),m=r(216);y()(m.Z,{insert:"head",singleton:!1}),m.Z.locals;var g=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(e){o(e)}}function a(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},P=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},w=function(){var t=this;this.initializaApp=function(){return g(t,void 0,void 0,(function(){var e,t,r,i,o,s,a,u,l,p;return P(this,(function(f){switch(f.label){case 0:if(!(e=c("px-editor-id").textContent))return[3,5];f.label=1;case 1:return f.trys.push([1,3,4,5]),this.canvasId=e,[4,n().get(v("/editor/data/"+this.canvasId))];case 2:return t=f.sent(),r=t.data.editor_state,i=JSON.parse(r),o=i.xPixels,s=i.yPixels,a=i.pixelSize,u=i.colorData,l=i.selected,this.canvasManager.load({xPixels:o,yPixels:s,pixelSize:a,colorData:u,selected:l}),[3,5];case 3:return p=f.sent(),console.error(p),this.canvasId="",[3,5];case 4:return this.canvasManager.renderAll(),[7];case 5:return[2]}}))}))},this.save=function(){return g(t,void 0,void 0,(function(){var e,t,r,i;return P(this,(function(o){switch(o.label){case 0:return e=function(e){var t="csrftoken=",r=e.split(";").filter((function(e){return e.startsWith(t)}));if(0===r.length)throw new Error("Could not find CSRF token.");return r[0].replace(t,"")}(document.cookie),t=c("px-editor-title").textContent,r=t||"New Canvas",this.canvasId?(n().put(v("editor/data/"+this.canvasId+"/"),{title:r,editor_state:this.canvasManager.dump()},{headers:{"X-CSRFToken":e}}),[3,3]):[3,1];case 1:return[4,n().post(v("editor/data/"),{title:r,editor_state:this.canvasManager.dump()},{headers:{"X-CSRFToken":e}})];case 2:i=o.sent(),this.canvasId=i.data.id,o.label=3;case 3:return[2]}}))}))},this.canvasId="",this.canvasManager=new h,function(t){t.eventHolder.addEventListener("mousedown",(function(r){switch(r.preventDefault(),r.stopPropagation(),t.editMode){case e.paint:case e.clear:t.createHistory(),t.paint(r.offsetX,r.offsetY);break;case e.fill:t.createHistory(),t.fill(r.offsetX,r.offsetY)}})),t.eventHolder.addEventListener("mousemove",(function(r){if(r.preventDefault(),r.stopPropagation(),function(e){return"1"===e.buttons.toString(2).slice(-1)}(r))switch(t.editMode){case e.paint:case e.clear:t.paint(r.offsetX,r.offsetY)}})),t.eventHolder.addEventListener("mouseup",(function(e){e.preventDefault(),e.stopPropagation(),t.createHistory(),t.clearEventPositions()})),t.eventHolder.addEventListener("mouseout",(function(e){e.preventDefault(),e.stopPropagation(),t.createHistory(),t.clearEventPositions()})),c("px-editor-mode-paint").addEventListener("click",(function(r){r.preventDefault(),r.stopPropagation(),t.editMode=e.paint})),c("px-editor-mode-clear").addEventListener("click",(function(r){r.preventDefault(),r.stopPropagation(),t.editMode=e.clear})),c("px-editor-mode-fill").addEventListener("click",(function(r){r.preventDefault(),r.stopPropagation(),t.editMode=e.fill}));var r=c("px-editor-color");r.addEventListener("input",(function(e){e.preventDefault(),e.stopImmediatePropagation(),t.paintColor=r.value})),c("px-editor-tool-undo").addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t.undoCanvas()})),c("px-editor-tool-redo").addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t.redoCanvas()}));var n=c("px-editor-popup-base"),i=document.getElementsByClassName("px-editor-tool-cancel");a(n,{zIndex:o.POPUP_BASE});var u=function(e){e.preventDefault(),e.stopPropagation();var t=document.getElementsByClassName("px-editor-popup");t.length>0&&Array.from(t).forEach((function(e){return e.classList.add("inactive")})),n.classList.add("inactive")};n.addEventListener("mousedown",u),i.length>0&&Array.from(i).forEach((function(e){return e.addEventListener("mousedown",u)}));var l=c("px-editor-tool-resize"),p=c("px-editor-resize-popup"),f=c("px-editor-input-resize-x"),d=c("px-editor-input-resize-y"),h=c("px-editor-execute-resize");a(p,{zIndex:o.POPUP}),l.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var r=l.getBoundingClientRect();a(p,{top:r.bottom+"px",left:r.left+"px"}),n.classList.remove("inactive"),p.classList.remove("inactive");var i=t.getXYPixels(),o=i.xPixels,s=i.yPixels;f.valueAsNumber=o,d.valueAsNumber=s})),h.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t.createHistory();var r=f.valueAsNumber,i=d.valueAsNumber;t.resize(r,i),n.classList.add("inactive"),p.classList.add("inactive"),t.createHistory(),t.renderAll()}));var v=c("px-editor-tool-downoad-image"),x=c("px-editor-download-image-popup"),y=c("px-editor-input-pixelsize"),m=c("px-editor-execute-download-image");a(x,{zIndex:o.POPUP}),v.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var t=v.getBoundingClientRect();a(x,{top:t.bottom+"px",left:t.left+"px"}),n.classList.remove("inactive"),x.classList.remove("inactive")})),m.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();var r=y.valueAsNumber,n=t.createDownloadImageURL(r);s("a",{href:n,download:"canvas.png"}).click()}))}(this.canvasManager),c("px-editor-canvas-container").appendChild(this.canvasManager.root),this.canvasManager.renderAll(),c("px-editor-tool-save").addEventListener("click",(function(e){return g(t,void 0,void 0,(function(){return P(this,(function(t){return e.preventDefault(),e.stopPropagation(),this.save(),[2]}))}))}))};g(void 0,void 0,void 0,(function(){return P(this,(function(e){return(new w).initializaApp(),[2]}))}))})()})();